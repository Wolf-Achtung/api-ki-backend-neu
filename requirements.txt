# Production requirements - KI-Sicherheit.jetzt Backend
# Updated: 2025-11-09 - Added JWT, AI SDKs, SMTP libs
# Python 3.11+

# ============================================================
# CORE FRAMEWORK
# ============================================================
fastapi>=0.115,<0.116
uvicorn[standard]>=0.30,<0.31
pydantic>=2.9,<3.0                  # Updated from 2.7
pydantic-settings>=2.5,<3.0         # Updated from 2.4

# ============================================================
# DATABASE
# ============================================================
SQLAlchemy>=2.0,<2.1

# PostgreSQL Drivers - Both versions for compatibility
psycopg[binary]>=3.1.18,<3.2.0      # PostgreSQL driver v3 (newer SQLAlchemy imports)
psycopg2-binary>=2.9.9,<3.0.0       # PostgreSQL driver v2 (legacy imports)

# ============================================================
# HTTP & AUTH
# ============================================================
requests>=2.32,<3.0
python-jose[cryptography]>=3.3.0,<3.4.0
PyJWT>=2.8.0,<3.0.0                 # NEW: JWT token handling for email extraction
python-multipart>=0.0.9,<0.1.0
email-validator>=2.2.0,<2.3.0

# ============================================================
# EMAIL / SMTP
# ============================================================
# Standard library smtplib is used, but these can help with advanced features:
aiosmtplib>=3.0.0,<4.0.0           # NEW: Async SMTP client (optional)

# ============================================================
# TEMPLATES & RENDERING
# ============================================================
jinja2>=3.1,<3.2

# ============================================================
# AI / LLM SDKS
# ============================================================
# OpenAI
openai>=1.45.0,<2.0.0              # NEW: OpenAI API (GPT-4o)

# Anthropic (optional if you want to use Claude via API)
# anthropic>=0.34.0,<1.0.0         # Uncomment if needed

# ============================================================
# RESEARCH & SEARCH TOOLS
# ============================================================
tavily-python>=0.5.0,<1.0.0        # Updated from 0.3.0 - Live web research
# perplexity-python - No official SDK, using requests

# ============================================================
# PDF GENERATION & PROCESSING
# ============================================================
# If you're generating PDFs locally (not via external service):
# weasyprint>=61.0,<62.0           # Uncomment if PDF_SERVICE_URL fails
# pypdf>=3.17.0,<4.0.0             # Uncomment if processing PDFs
# reportlab>=4.0.0,<5.0.0          # Alternative PDF generator

# ============================================================
# DATA PROCESSING
# ============================================================
python-dateutil>=2.8.0,<3.0.0      # NEW: Date parsing utilities
pytz>=2024.1                        # NEW: Timezone support

# ============================================================
# LOGGING & MONITORING
# ============================================================
# sentry-sdk[fastapi]>=2.0.0,<3.0.0  # Uncomment for error tracking

# ============================================================
# TESTING (optional for development)
# ============================================================
# pytest>=8.0.0,<9.0.0
# pytest-asyncio>=0.23.0,<0.24.0
# httpx>=0.27.0,<0.28.0            # For testing FastAPI
# faker>=25.0.0,<26.0.0            # Generate test data

# ============================================================
# UTILITIES
# ============================================================
python-dotenv>=1.0.0,<2.0.0        # ENV file support (dev & setup scripts)

# ============================================================
# OPTIONAL ENHANCEMENTS
# ============================================================
# Redis for caching/queue (if you implement email queue):
# redis>=5.0.0,<6.0.0
# celery>=5.4.0,<6.0.0             # Background tasks

# Alternative email providers:
# resend>=0.8.0,<1.0.0             # Resend.com API (better than SMTP)
# sendgrid>=6.11.0,<7.0.0          # SendGrid API
# mailgun>=0.1.0,<0.2.0            # Mailgun API
